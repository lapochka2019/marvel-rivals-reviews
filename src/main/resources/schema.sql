CREATE TABLE IF NOT EXISTS users(
    id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    user_name VARCHAR(255) NOT NULL
);

CREATE TABLE IF NOT EXISTS players(
    id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    nick_name VARCHAR(255) NOT NULL UNIQUE,
    owner INTEGER,
    created TIMESTAMP NOT NULL,
    image VARCHAR(512)
);

CREATE TABLE IF NOT EXISTS reviews(
    id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    review VARCHAR(512),
    created TIMESTAMP NOT NULL,
    grade INTEGER  NOT NULL,
    rank INTEGER  NOT NULL,
    image VARCHAR(512),
    owner_id BIGINT REFERENCES users (id) ON UPDATE RESTRICT ON DELETE SET NULL,
    player_id BIGINT REFERENCES players (id) ON UPDATE RESTRICT ON DELETE SET NULL
);